=== presenter ===

A presenter for human subject experiments currently tuned for fMRI.

NOTE: This package is currently broken by a Chicken bug in the bind
egg. Patches to it have been submitted, but until they are accepted
this is not useable without a custom bind egg.

=== Building ===

To compile you'll need a few chicken eggs which can be installed with:

  chicken-install -s xlib random-bsd format traversal scheme2c-compatibility linear-algebra qobischeme-ui

You can then run ''make'' which will build a ''presenter'' binary in the current directory.

=== Running ===

You'll need an fMRI experiment generated by our scripts whose root
directory is <root>

  ./presenter \
     -runs-directory <root>/design-for-8-blocks/presenter/ \
     <root>/stimuli/ <stimulus-video-fps> <stimulus-video-length> \
     -tr <triggers-per-TR> <seconds-per-TR> \
     -disable-preview \
     -window-position 800 0

Triggers are keypresses (''5'' or ''T''). It's best not to use the
keyboard while the experiment is running.

The presenter brings up two windows: a viewer and a UI. The viewer is
what the subjects are intended to see.

When the UI comes up it will be configured for the 9events experiment
by default. The '-run' and '1+' buttons decrement/increment the
current run number for the experiment. Select the run you want to do,
click start, it will print 'setting up' in the UI for about a minute
or so and then say 'starting'. (Wait until the localizer scans are
done before clicking 'start' as any stray triggers might start the
experiment early.) Once it prints 'starting' in the UI will will also
print 'waiting for trigger' on the console. Once you see that you can
fire up the scan.

As the scan progresses it will print what it thinks is the current TR
to the console. At the end of the scan it should stop and write a log
file that looks like:

  <run-id>-<seconds from epoch>-<random-number>.log

If it doesn't stop on its own, just click the stop button.

=== License ===

Andrei Barbu, andrei@0xab.com

   Copyright 2013 Andrei Barbu, Purdue University. All rights reserved.
   This program is free software: you can redistribute it and/or modify
   it under the terms of the GNU Lesser General Public License as published by
   the Free Software Foundation, either version 3 of the License, or
   (at your option) any later version.
   This program is distributed in the hope that it will be useful,
   but WITHOUT ANY WARRANTY; without even the implied warranty of
   MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
   GNU Lesser General Public License for more details.
   You should have received a copy of the GNU Lesser General Public License
   along with this program.  If not, see http://www.gnu.org/licenses.
__NOTOC__
